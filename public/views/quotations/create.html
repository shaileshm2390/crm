<section data-ng-init="findOneByRfqId()">

    <div ng-include="'views/rfqs/rfqBasicDetail.html'"></div>

    <div class="row">
        <div class="col col-lg-3 " style="border-right:1px solid #000;">
            <h3><strong>Action</strong></h3>
            <div ng-include="'views/rfqs/rfqLeftNavigation.htm'"></div>
        </div>
        <div class="col col-lg-9">
            <h3><strong>Approved Costsheet</strong></h3>
            <div ng-init="findApprovedCostSheetByRfqId()" >
                <div ng-show="costsheet.status != 'approved'" class="alert alert-danger">Cost Sheet is not yet approved. Please get an approval from admin</div>
                <div ng-show="costsheet.status == 'approved'">
                    <div style="background-color:linen; padding: 5px">
                        <h6>
                            Created by:
                            <strong> {{costsheet.User.firstName}} {{costsheet.User.lastName}}</strong>
                            <small>({{costsheet.User.email}})</small>
                            <small class="pull-right"><i> - {{costsheet.createdAt | date:'medium'}}</i></small>
                        </h6>

                        <div class="clear clearfix"></div>

                        <div class="row">
                            <div class="col-lg-12">
                                <strong>Cost Sheet Parameter</strong>
                                <hr />
                                <div class="clear clearfix"></div><br />
                                <div class="row" ng-repeat="(key,value) in stringToObject(costsheet.data, true) ">
                                    <div class="col col-lg-5">
                                        {{key}}
                                    </div>
                                    <div class="col col-lg-2">:</div>
                                    <div class="col col-lg-5">
                                        {{value}}<br /><br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr />

                    <h3><strong>Prepare <span class="quotType"></span> Quotation</strong></h3>

                    <div class="alert alert-success lblMsg hide"></div>

                    <div class="clear clearfix"></div> <br />

                    <a href="#" class="btn btn-outline-primary lnkAdd  pull-right" title="add row">
                        <span><i class="fa fa-plus-circle"></i></span>
                    </a>
                    <div class="clear clearfix"></div> <br />

                    <div class="pnlParameter">
                        <div class="row">
                            <div class="col col-lg-5">
                                <input type="text" class="txtName form-control" placeholder="Name" required />
                            </div>
                            <div class="col col-lg-5">
                                <input type="text" class="txtValue form-control" placeholder="Value" required />
                            </div>
                            <div class="col col-lg-2">
                                <a href="#" class="btn btn-outline-danger lnkRemove   pull-right" title="remove row"><span><i class="fa fa-minus-circle"></i></span></a>
                            </div>
                        </div>
                        <div class="clear clearfix"></div> <br />
                    </div>
                    <div class="row">
                        <div class="col col-lg-3 center">
                            <a href="#" class="btnSubmit btnQuotGeneration btn btn-primary">Generate</a>
                        </div>
                    </div>

                    <input type="hidden" class="hdnCostSheetId" value="{{costsheet.id}}" />
                </div>
            </div>
        </div>
    </div>    
</section>
<script src="/js/view/costsheet.js"></script>

