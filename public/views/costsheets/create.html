<div class="page-titles">
		<h3 class="text-primary">Prepare Cost Sheet</h3>
	</div>
<div class="container-fluid">
	<div class="card" ng-controller="RfqsController">
    
    <section data-ng-init="findOneByRfqId()" ng-show="rfq.id != null  && validatePermission">
        <div ng-include="'views/rfqs/rfqBasicDetail.html'"></div>

        <div class="row">
            <div ng-include="'views/rfqs/rfqLeftNavigation.htm'" class="col col-lg-12"></div>
            <div class="col col-lg-12 cost-sheet-form">
                <h3><strong>Prepare Standard Format Cost Sheet</strong></h3>
                <div class="alert alert-success lblMsg hide"></div>

                <div class="clear clearfix"></div>
                <div  class="row">
                    <div class="col-sm-12 m-b-5">
                        <div class="separatePanel Rawmaterial">
                            <h4 class="border-bottom p-b-10">Heading
                                <a class="pull-right lnkAddRawMaterial lnkAddPanel" data-url="views/costsheets/templates/addRawMaterialFields.html" data-class="Rawmaterial"><span><i class="fa fa-plus-circle"></i></span></a>  
                            </h4>
                            <div ng-controller="RawMaterialsController" ng-init="find()" class="head-row removable-row" >
                                <div class="row">
                                    <div class="col">
                                        <label class="txtPredefinedName  text-muted m-b-2 f-s-12">Product Name</label>
                                        <input type="text" placeholder="Product Name" class="form-control txtProductName txtPredefinedValue" id="txtProductName" />
                                    </div>
									<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Raw Material</label>
										<select class="form-control ddlRawMaterial txtPredefinedValue" id="ddlRawMaterial" name="dropdown">
											<option value="" selected>Select</option>
											<option ng-repeat="material in rawmaterials" value="{{material.material}}" data-rate="{{material.rate}}" data-scrap-rate="{{material.scrapRate}}" data-scrap-recovery="{{material.scrapRecovery}}">{{material.material}}</option>
										</select>
									</div>
									<div class="col">
										<label class="txtPredefinedName  text-muted m-b-2 f-s-12">Gross Weight</label>
										<input type="text" placeholder="Gross Weight" class="form-control txtGrWt txtPredefinedValue txtCalculateCost" id="txtGrWt" />
									</div>
									<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Net Weight</label>
										<input type="text" placeholder="Net Weight" class="form-control txtNetWt txtPredefinedValue txtCalculateCost" id="txtNetWt" />
									</div>
                                	<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Rate</label>
										<input type="text" placeholder="Rate" class="form-control txtRate txtPredefinedValue txtAutogenerated txtAutogenerateEditable" id="txtRate" />
									</div>
									<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Scrap Rate</label>
										<input type="text" placeholder="Scrap Rate" class="form-control txtScrapRate txtPredefinedValue txtAutogenerated txtAutogenerateEditable" id="txtScrapRate" />
									</div>
									<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Scrap Recovery</label>
										<input type="text" placeholder="Scrap Recovery" class="form-control txtScrapRecovery txtPredefinedValue txtAutogenerated txtAutogenerateEditable" id="txtScrapRecovery" /> <!--<br />-->
									</div>
                                	<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">RM Cost</label>
										<input type="text" placeholder="RM Cost" class="form-control txtRmCost txtPredefinedValue txtAutogenerateEditable" id="txtRmCost" />
									</div>
									<div class="col">
										<label class="txtPredefinedName text-muted m-b-2 f-s-12">Net RM Cost</label>
										<input type="text" placeholder="Net RM Cost" class="form-control txtNetRmCost txtPredefinedValue txtAutogenerateEditable" id="txtNetRmCost" />
									</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 m-b-5">
                        <div class="Conversion separatePanel">
                            <h4 class="border-bottom p-b-10">Conversion
                                <a class="pull-right lnkAddConversion lnkAddPanel" data-url="views/costsheets/templates/addConversionFields.html"  data-class="Conversion"><span><i class="fa fa-plus-circle"></i></span></a>                          
                            </h4>
                            <div class="head-row removable-row">
                                <div class="row" ng-controller="ConversionsController" ng-init="find()">
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Operation</label>
                                        <select class="form-control ddlOperation txtPredefinedValue" id="ddlOperation" name="dropdown" ng-change="onConversionChange()" ng-model="selectedOperation">
                                            <option value="" selected>Select Operation</option>
                                            <option ng-repeat="conversion in conversions | unique : 'operation'" value="{{conversion.operation}}">{{conversion.operation}}</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Machine</label>
                                        <select class="form-control ddlMachine txtPredefinedValue" id="ddlMachine" name="dropdown">
                                            <option value="" selected>Select Machine</option>
                                            <option ng-repeat="machine in machines" value="{{machine.machine}}" data-id="{{machine.id}}" data-rate="{{machine.rate}}" data-efficiency="{{machine.efficiency}}">{{machine.machine}}</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Cycle Time</label>
                                        <input type="text" placeholder="Cycle Time" class="form-control txtCycleTime txtPredefinedValue" id="txtCycleTime" />
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Conversion Rate/hrs</label>
                                        <input type="text" placeholder="Conversion Rate/hrs" class="form-control txtConversionRate txtAutogenerated txtAutogenerateEditable txtPredefinedValue" id="txtConversionRate" />
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Efficiency</label>
                                        <input type="text" placeholder="Efficiency" class="form-control txtConversionEfficiency txtAutogenerated txtAutogenerateEditable txtPredefinedValue" id="txtConversionEfficiency" />
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Conversion Cost</label>
                                        <input type="text" placeholder="Conversion Cost" class="form-control txtConversionCost txtPredefinedValue txtAutogenerateEditable" id="txtConversionCost" />
                                    </div>
                                </div>
                            </div>
                        </div>             
                        </div>
					<div class="col-sm-12 m-b-5">
						<div class="HtSt separatePanel">  
                            <h4 class="border-bottom p-b-10">HT/ST
                                <a class="pull-right lnkAddHtSt lnkAddPanel" data-url="views/costsheets/templates/addHtStFields.html" data-class="HtSt"><span><i class="fa fa-plus-circle"></i></span></a>
                            </h4>  
                            <div class="head-row removable-row">
                                <div ng-controller="HtstsController" ng-init="find()" class="row">
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">HT/ST</label>
                                        <select class="form-control ddlHtSt txtPredefinedValue" id="ddlHtSt" name="dropdown">
                                            <option value="" selected>Select</option>
                                            <option ng-repeat="htst in htsts " value="{{htst.details}}" data-id="{{htst.id}}" data-parameter="{{htst.parameter}}" data-rate="{{htst.rate}}">{{htst.details}}</option>
                                        </select>
                                    </div>
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">HT/ST Rate</label>
                                        <input type="text" placeholder="HT/ST Rate" class="form-control txtHtStRate txtPredefinedValue txtAutogenerateEditable" id="txtHtStRate" />
                                    </div>
                                    <div class="col">
                                        <label class="text-muted m-b-2 f-s-12">Net Weight</label>
                                        <input type="text" placeholder="Net Weight" class="form-control txtNetWt txtCalculateCost " id="txtNetWt" />
                                    </div>
                                    
                                    <div class="col">
                                        <label class="txtPredefinedName text-muted m-b-2 f-s-12">Cost</label>
                                        <input type="text" placeholder="HT/ST Cost" class="form-control txtHtStCost txtPredefinedValue txtAutogenerateEditable" id="txtHtStCost" />
                                    </div>
                                </div>
                            </div>                              
                        </div> 
					</div>
                    <div class="col-sm-12 m-b-5">
                        <div class="Total separatePanel">
                            <h4 class="border-bottom p-b-10">Total &amp; Profit</h4>
                            <div class="row head-row removable-row">
                                <div class="col">
                                    <label  class="txtPredefinedName text-muted m-b-2 f-s-12">Total RM Cost</label>
                                    <input type="text" placeholder="Total RM Cost" class="form-control txtTotalRmCost txtCostField txtPredefinedValue txtAutogenerateEditable" id="txtTotalRmCost" />
                                </div>
                                <div class="col">
                                    <label  class="txtPredefinedName text-muted m-b-2 f-s-12">Total Conversion Cost</label>
                                    <input type="text" placeholder="Total Conversion Cost" class="form-control txtTotalConversionCost txtCostField txtPredefinedValue txtAutogenerateEditable" id="txtTotalConversionCost" />
                                </div>
                                <div class="col">
                                    <label  class="txtPredefinedName text-muted m-b-2 f-s-12">Total HT/ST Cost</label>
                                    <input type="text" placeholder="Total HT/ST Cost" class="form-control txtTotalHtStCost txtCostField txtPredefinedValue txtAutogenerateEditable" id="txtTotalHtStCost" />
                                </div>
                                <div class="col">
									<p class="row text-muted m-b-2 f-s-12 txtPredefinedName">Profit on RM Cost</p>
                                    <div class="row">
                                        <input type="text" placeholder="Profit %" class="form-control txtInputRmCostProfit col col-sm-5" id="txtInputRmCostProfit">
                                        <div style="text-align:center;margin: auto 0;" class="col col-sm-2">=</div>
                                        <input type="text" placeholder="Profit" class="form-control txtRmCostProfit  col col-sm-5 txtCostField txtPredefinedValue txtAutogenerateEditable" id="txtRmCostProfit">
                                    </div>
                                </div>
                                <div class="col">                                    
									<p class="row text-muted m-b-2 f-s-12 txtPredefinedName">Profit on Conversion Cost</p>
                                    <div class="row">
                                        <input type="text" placeholder="Profit %" class="form-control txtInputConversionCostProfit col col-sm-5" id="txtInputConversionCostProfit">
                                        <div style="text-align:center;margin: auto 0;" class="col col-sm-2">=</div>
                                        <input type="text" placeholder="Profit" class="form-control txtConversionCostProfit  col col-sm-5 txtCostField txtPredefinedValue txtAutogenerateEditable" id="txtConversionCostProfit">
                                    </div>
								</div>

                                <hr />
                                <div class="col">
                                    <label  class="txtPredefinedName text-muted m-b-2 f-s-12">Total</label>
                                    <input type="text" placeholder="Total" class="form-control txtTotal txtPredefinedValue txtAutogenerateEditable" id="txtTotal" />
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                <hr />               

                <div class="clear clearfix"></div>
                <h4 class="border-bottom p-b-10">Additional Parameter
                    <a href="#" class="btn btn-primary lnkAdd  pull-right" data-width="4" title="add row">
                        <span><i class="fa fa-plus-circle"></i></span>
                    </a>
                </h4>
               
                <div class="clear clearfix"></div> <br />
                    <div class="pnlParameter row" >                      
                    </div>
                    <div class="row">
                        <div class="col col-lg-3 center">
                            <a href="#" class="btnSubmit btn btn-primary">Send for Approval</a>
                        </div>
                    </div>
                </div>
        </div>
    </section>

    <section ng-show="rfq.id == null && validatePermission">
        <h1>403 - Forbidden</h1>
        <p>Access Denied. You don't have access to view this page</p>
    </section>

    <section ng-show="!validatePermission">
        <h1>Loading please wait..!!</h1>
        <div class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
            </div>
        </div>
    </section>
</div>
</div>
<script src="/js/view/costsheet.js"></script>
